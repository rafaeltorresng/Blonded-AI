<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blonded AI - Music Recommendations</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'spotify-green': '#1DB954',
                        'spotify-black': '#191414',
                        'spotify-gray': '#121212',
                        'spotify-light-gray': '#282828',
                    }
                }
            }
        }
    </script>
    <!-- Regular CSS instead of @apply -->
    <style>
        body {
            background-color: #191414; /* spotify-black */
            color: white;
        }
        
        .btn-spotify {
            background-color: #1DB954;
            color: white;
            font-weight: bold;
            padding: 0.75rem 2rem;
            border-radius: 9999px;
            display: inline-block;
            transition: all 0.2s;
        }
        
        .btn-spotify:hover {
            opacity: 0.8;
        }
        
        .card {
            background-color: #282828; /* spotify-light-gray */
            border-radius: 0.5rem;
            padding: 1rem;
            transition: all 0.2s;
        }
        
        .card:hover {
            opacity: 0.8;
        }
    </style>
    <!-- Vue.js and Axios -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body class="min-h-screen">
    <header class="p-4 flex items-center justify-between border-b border-gray-800">
        <div class="flex items-center">
            <!-- Make the logo clickable and link to home -->
            <a href="{{ url_for('index') }}" class="flex items-center hover:opacity-80 transition-opacity">
                <h1 class="text-2xl font-bold" style="color: #1DB954;">Blonded AI</h1>
                <span class="ml-2 text-gray-400">Music Recommendations</span>
            </a>
        </div>
        
        {% if session.get('user_id') %}
        <div class="flex items-center">
            <div class="text-white mr-3">
                Hi, {{ session.get('display_name') }}!
            </div>
            
            <!-- User profile with dropdown menu -->
            <div class="relative group">
                <div class="w-10 h-10 rounded-full overflow-hidden cursor-pointer">
                    {% if session.get('profile_image') %}
                        <img src="{{ session.get('profile_image') }}" alt="Profile" class="w-full h-full object-cover">
                    {% else %}
                        <div class="w-full h-full bg-spotify-light-gray flex items-center justify-center">
                            <span class="text-xl">{{ session.get('display_name')[0]|upper }}</span>
                        </div>
                    {% endif %}
                </div>
                
                <!-- Dropdown menu -->
                <div class="absolute right-0 mt-2 w-48 bg-spotify-light-gray rounded-md shadow-lg py-1 hidden group-hover:block z-10">
                    <a href="{{ url_for('logout') }}" class="block px-4 py-2 text-sm text-white hover:bg-black hover:bg-opacity-30">
                        Log out
                    </a>
                </div>
            </div>
        </div>
        {% endif %}
    </header>

    <main class="container mx-auto py-8 px-4">
        {% block content %}{% endblock %}
    </main>

    <footer class="border-t border-gray-800 p-4 text-center text-gray-400">
        <p>Powered by Blonded AI - Using Spotify Data</p>
    </footer>

    {% block scripts %}{% endblock %}
</body>
</html>